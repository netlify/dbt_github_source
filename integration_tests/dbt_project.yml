name: 'github_source_integration_tests'
version: '0.2.1'
config-version: 2

profile: 'integration_tests'

clean-targets:
  - 'target'
  - 'dbt_modules'

vars:
  github_source:
    github_database: raw
    github_schema: raw_fivetran_github

seeds:
  +quote_columns: "{{ true if target.type == 'redshift' else false }}"
  github_source_integration_tests:
    +column_types:
      _fivetran_synced: timestamp
    github_issue_comment_data:
      +column_types:
        id: "{%- if target.type == 'bigquery' -%} INT64 {%- else -%} bigint {%- endif -%}"
    github_issue_merged_data:
      +column_types:
        merged_at: timestamp
    github_issue_data:
      +column_types:
        closed_at: timestamp
        created_at: timestamp
        updated_at: timestamp
    github_issue_closed_history_data:
      +column_types:
        updated_at: timestamp
    github_pull_request_review_data:
      +column_types:
        id: "{%- if target.type == 'bigquery' -%} INT64 {%- else -%} bigint {%- endif -%}"
        submitted_at: timestamp
    github_repository_data:
      +column_types:
        created_at: timestamp
    github_requested_reviewer_history_data:
      +column_types:
        created_at: timestamp
